<div class="container">
    <header>Как дела у ваших коллег?</header>
    <div *ngIf="!(loaded | async); else loadedBlock" class="spinner">
        <mat-progress-spinner mode="indeterminate" diameter="50" strokeWidth="2" color="accent"></mat-progress-spinner>
    </div>
    <ng-template #loadedBlock>
        <ng-container *ngIf="(records | async)?.length; else noDataProvided">
            <div *ngFor="let item of records | async">
                <div class="record-container">
                    <div class="record" [class.bad-record]="item.mood === SelfMood.Sad">
                        <div class="text">
                            {{item.text}}
                        </div>
                        <img *ngIf="item.mood !== undefined" [src]="images[item.mood]" class="mood" width="50" height="50">
                    </div>
                    <div class="subscription">
                        <div class="date">
                            {{getDateView(item.date)}}
                        </div>
                        <div class="name">
                            {{item.respondent}}
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
        <ng-template #noDataProvided>
            Недостаточно данных для отображения
        </ng-template>
    </ng-template>
</div>